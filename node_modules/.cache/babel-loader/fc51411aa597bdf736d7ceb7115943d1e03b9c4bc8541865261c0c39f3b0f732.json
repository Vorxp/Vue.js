{"ast":null,"code":"export default {\n  name: \"SubjAdd\",\n  data() {\n    return {\n      stds: {\n        id: \"\",\n        name: \"\",\n        nameeng: \"\",\n        credit: \"\",\n        grade: \"\",\n        sem: \"\",\n        isShow: false\n      }\n    };\n  },\n  methods: {\n    //Method ที่ทำงานเมื่อมีการ Submit\n    handleSubmit() {\n      //สร้าง Object เพื่อเตรียมส่งข้อมูล - ค่า properties ที่ v-model กับ form ไว้\n      let students = {\n        id: this.stds.id,\n        name: this.stds.name,\n        major: this.stds.major,\n        yr: this.stds.yr,\n        isShow: false\n      };\n      //กำหนดการติดต่อกับ endpoint ระบุ Method POST\n      fetch('http://localhost:3000/students', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(students)\n      }).then(() => {\n        this.addSuccess = true;\n      }).catch(err => {\n        this.addError = true;\n        this.errMessage = err;\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","stds","id","nameeng","credit","grade","sem","isShow","methods","handleSubmit","students","major","yr","fetch","method","headers","body","JSON","stringify","then","addSuccess","catch","err","addError","errMessage"],"sources":["D:\\comsci\\yr 2-2\\website\\projectfianl\\src\\components\\SubjAdd.vue"],"sourcesContent":["<template>\r\n  <h1>เพิ่มวิชา</h1>\r\n  <div class=\"card\">\r\n    <div class=\"card-body\">\r\n      <form @submit.prevent=\"handleSubmit()\">\r\n    <div class=\"row\">\r\n        <div class=\"col-lg-1 col-md-4 col-sm-6 mt-2\">\r\n            <label for=\"subjId\" class=\"form-label\">รหัสวิชา</label>\r\n            <input type=\"text\" id=\"subjId\" class=\"form-control\" v-model.trim=\"stds.id\" />\r\n        </div>\r\n        <div class=\"col-lg-2 col-md-8 col-sm-6 mt-2\">\r\n            <label for=\"subjNameTh\" class=\"form-label\">ชื่อวิชาภาษาไทย</label>\r\n            <input type=\"text\" id=\"subjNameTh\" class=\"form-control\" v-model.trim=\"stds.name\" />\r\n        </div>\r\n        <div class=\"col-lg-2 col-md-8 col-sm-6 mt-2\">\r\n            <label for=\"subjName\" class=\"form-label\">ชื่อวิชาภาษาอังกฤษ</label>\r\n            <input type=\"text\" id=\"subjName\" class=\"form-control\" v-model.trim=\"stds.nameeng\" />\r\n        </div>\r\n        <div class=\"col-lg-1 col-md-4 col-sm-6 mt-2\">\r\n            <label for=\"subjId\" class=\"form-label\">หน่วยกิต</label>\r\n            <input type=\"text\" id=\"subjId\" class=\"form-control\" v-model.trim=\"stds.credit\" />\r\n        </div>\r\n        <div class=\"col-lg-1 col-md-3 col-sm-4 mt-2\">\r\n            <label for=\"stdGrade\" class=\"form-label\">เกรด</label>\r\n            <select id=\"stdGrade\" class=\"form-select\" v-model=\"stds.grade\">\r\n                <option value=\"A\">A</option>\r\n                <option value=\"B+\">B+</option>\r\n                <option value=\"B\">B</option>\r\n                <option value=\"C+\">C+</option>\r\n                <option value=\"C\">C</option>\r\n                <option value=\"D+\">D+</option>\r\n                <option value=\"D\">D</option>\r\n                <option value=\"F\">F</option>\r\n                <option value=\"W\">W</option>\r\n            </select>\r\n        </div>\r\n\r\n         <div class=\"col-lg-1 col-md-3 col-sm-4 mt-2\">\r\n            <label for=\"stdSem\" class=\"form-label\">ภาคการศึกษา</label>\r\n            <select id=\"stdSem\" class=\"form-select\" v-model=\"stds.sem\">\r\n                <option value=\"ต้น\">ต้น</option>\r\n                <option value=\"ปลาย\">ปลาย</option>\r\n            </select>\r\n        </div>\r\n        <div class=\"col-2 mt-4 d-flex align-items-center\">\r\n          <button id=\"btnSubmit\" type=\"submit\" class=\"btn btn-primary\"> Save! </button>\r\n        </div>\r\n    </div>\r\n</form>\r\n    </div>\r\n    \r\n  </div>\r\n  <div class=\"alert alert-light-mt-2\">\r\n    รหัสวิชา: {{stds.id}} <br>\r\n    ชื่อวิชา: {{stds.name}} <br>\r\n    Subjectname: {{stds.nameeng}} <br>\r\n    หน่วยกิต: {{stds.credit}} <br>\r\n    Grade: {{stds.grade}} <br>\r\n    ภาคการศึกษา: {{stds.sem}}\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"SubjAdd\",\r\n  data() {\r\n    return {\r\n      stds: {\r\n        id: \"\",\r\n        name: \"\",\r\n        nameeng: \"\",\r\n        credit:\"\",\r\n        grade:\"\",\r\n        sem:\"\",\r\n        isShow: false,\r\n      },\r\n    };\r\n  },\r\n  methods:{\r\n    //Method ที่ทำงานเมื่อมีการ Submit\r\nhandleSubmit()\r\n{\r\n    //สร้าง Object เพื่อเตรียมส่งข้อมูล - ค่า properties ที่ v-model กับ form ไว้\r\n    let students ={\r\n        id:this.stds.id,\r\n        name:this.stds.name,\r\n        major:this.stds.major,\r\n        yr:this.stds.yr,\r\n        isShow:false\r\n    }\r\n    //กำหนดการติดต่อกับ endpoint ระบุ Method POST\r\n    fetch('http://localhost:3000/students',{\r\n        method:'POST',\r\n        headers:{'Content-Type':'application/json'},\r\n        body:JSON.stringify(students)\r\n    })\r\n    .then(()=>{\r\n        this.addSuccess=true\r\n    })\r\n    .catch((err)=>{\r\n        this.addError=true\r\n        this.errMessage=err\r\n    })\r\n}\r\n\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"],"mappings":"AA+DA,eAAe;EACbA,IAAI,EAAE,SAAS;EACfC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,EAAE,EAAE,EAAE;QACNH,IAAI,EAAE,EAAE;QACRI,OAAO,EAAE,EAAE;QACXC,MAAM,EAAC,EAAE;QACTC,KAAK,EAAC,EAAE;QACRC,GAAG,EAAC,EAAE;QACNC,MAAM,EAAE;MACV;IACF,CAAC;EACH,CAAC;EACDC,OAAO,EAAC;IACN;IACJC,YAAYA,CAAA,EACZ;MACI;MACA,IAAIC,QAAO,GAAG;QACVR,EAAE,EAAC,IAAI,CAACD,IAAI,CAACC,EAAE;QACfH,IAAI,EAAC,IAAI,CAACE,IAAI,CAACF,IAAI;QACnBY,KAAK,EAAC,IAAI,CAACV,IAAI,CAACU,KAAK;QACrBC,EAAE,EAAC,IAAI,CAACX,IAAI,CAACW,EAAE;QACfL,MAAM,EAAC;MACX;MACA;MACAM,KAAK,CAAC,gCAAgC,EAAC;QACnCC,MAAM,EAAC,MAAM;QACbC,OAAO,EAAC;UAAC,cAAc,EAAC;QAAkB,CAAC;QAC3CC,IAAI,EAACC,IAAI,CAACC,SAAS,CAACR,QAAQ;MAChC,CAAC,EACAS,IAAI,CAAC,MAAI;QACN,IAAI,CAACC,UAAU,GAAC,IAAG;MACvB,CAAC,EACAC,KAAK,CAAEC,GAAG,IAAG;QACV,IAAI,CAACC,QAAQ,GAAC,IAAG;QACjB,IAAI,CAACC,UAAU,GAACF,GAAE;MACtB,CAAC;IACL;EAEE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}